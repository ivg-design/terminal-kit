<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Terminal Loader - Component Demo</title>

        <!-- Load CSS -->
        <link rel="stylesheet" href="../css/theme/terminal.css">
        <link rel="stylesheet" href="../css/components/loader.css">
        <link rel="stylesheet" href="../css/components/buttons.css">
        <link rel="stylesheet" href="../css/components/panel.css">

        <style>
            html,
            body {
                overflow: visible !important;
            }

            body {
                font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
                background: #0a0a0a;
                color: #00ff41;
                padding: 40px 20px;
                line-height: 1.6;
            }

            .demo-container {
                max-width: 1200px;
                margin: 0 auto;
            }

            h1 {
                text-transform: uppercase;
                letter-spacing: 0.1em;
                border-bottom: 2px solid #00ff41;
                padding-bottom: 10px;
                margin-bottom: 20px;
            }

            .breadcrumb {
                margin-bottom: 30px;
                font-size: 12px;
                color: #00cc33;
            }

            .breadcrumb a {
                color: #00cc33;
                text-decoration: none;
            }

            .breadcrumb a:hover {
                color: #00ff41;
            }

            .demo-section {
                margin-bottom: 60px;
                padding: 30px;
                background: #1a1a1a;
                border: 1px solid #333333;
            }

            h2 {
                color: #00ff41;
                font-size: 18px;
                margin-bottom: 10px;
                text-transform: uppercase;
                letter-spacing: 0.05em;
            }

            h3 {
                color: #00ff41;
                font-size: 14px;
                margin: 25px 0 15px 0;
                text-transform: uppercase;
                letter-spacing: 0.05em;
            }

            .section-description {
                color: #00cc33;
                font-size: 13px;
                margin-bottom: 30px;
            }

            .demo-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .demo-item {
                background: #242424;
                border: 1px solid #333333;
                padding: 20px;
                text-align: center;
                min-height: 120px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .demo-label {
                display: block;
                color: #00cc33;
                font-size: 11px;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-bottom: 15px;
                padding-bottom: 5px;
                border-bottom: 1px solid #333333;
                width: 100%;
                text-align: center;
            }

            .code-example {
                background: #0a0a0a;
                border: 1px solid #333333;
                padding: 20px;
                margin-top: 30px;
                overflow-x: auto;
            }

            .code-example pre {
                margin: 0;
                color: #00cc33;
                font-size: 12px;
                line-height: 1.5;
            }

            .event-log {
                background: #0a0a0a;
                border: 1px solid #333;
                padding: 15px;
                margin-top: 15px;
                color: #00cc33;
                font-size: 11px;
                height: 150px;
                overflow-y: auto;
            }

            .control-buttons {
                display: flex;
                gap: 10px;
                margin-top: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .integration-demo {
                background: #242424;
                border: 1px solid #333;
                padding: 20px;
                margin-bottom: 20px;
                min-height: 150px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        </style>
    </head>

    <body>
        <div class="demo-container">
            <div class="breadcrumb">
                <a href="index.html">← Back to Gallery</a> / Loader
            </div>

            <h1>Terminal Loader</h1>
            <p style="color: #00cc33; margin-bottom: 40px;">
                Loading indicators with terminal/cyberpunk styling. Features orbital spinner animation with smooth shadow transitions, animated dots, and bars with multiple sizes.
            </p>

            <!-- Standalone Loader -->
            <div class="demo-section">
                <h2>Standalone Loader</h2>
                <p class="section-description">
                    Simple orbital loader using just a span element with class="loader". No component required.
                </p>

                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Default Size (45px)</span>
                        <span class="loader"></span>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Custom Size (24px)</span>
                        <span class="loader" style="font-size: 24px;"></span>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Large Size (60px)</span>
                        <span class="loader" style="font-size: 60px;"></span>
                    </div>
                </div>

                <div class="code-example" style="margin-top: 20px;">
                    <pre>&lt;!-- Standalone orbital loader - no component needed --&gt;
&lt;span class="loader"&gt;&lt;/span&gt;

&lt;!-- Custom size --&gt;
&lt;span class="loader" style="font-size: 24px;"&gt;&lt;/span&gt;

&lt;!-- With custom color --&gt;
&lt;span class="loader" style="font-size: 30px; color: #00ff41;"&gt;&lt;/span&gt;</pre>
                </div>
            </div>

            <!-- Loader Types -->
            <div class="demo-section">
                <h2>Loader Component Types</h2>
                <p class="section-description">
                    Different animation types for various loading scenarios using the terminal-loader component.
                </p>

                <h3>Basic Types</h3>
                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Orbital Spinner (Default)</span>
                        <terminal-loader id="loader1" type="spinner" size="medium"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Animated Dots</span>
                        <terminal-loader id="loader2" type="dots" size="medium"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Bars Animation</span>
                        <terminal-loader id="loader3" type="bars" size="medium"></terminal-loader>
                    </div>
                </div>

                <h3>Loader Sizes</h3>
                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Small Spinner</span>
                        <terminal-loader id="loader4" type="spinner" size="small"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Medium Dots</span>
                        <terminal-loader id="loader5" type="dots" size="medium"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Large Bars</span>
                        <terminal-loader id="loader6" type="bars" size="large"></terminal-loader>
                    </div>
                </div>

                <h3>Loaders with Text</h3>
                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Loading Text</span>
                        <terminal-loader id="loader7" type="spinner" size="medium" text="Loading..."></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Processing Text</span>
                        <terminal-loader id="loader8" type="dots" size="medium" text="Processing data..."></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Uploading Text</span>
                        <terminal-loader id="loader9" type="bars" size="medium" text="Uploading files..."></terminal-loader>
                    </div>
                </div>

                <h3>Custom Colors</h3>
                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Custom Green</span>
                        <terminal-loader id="loader10" type="spinner" size="medium" color="#00ff41" text="Custom color"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Blue Loader</span>
                        <terminal-loader id="loader11" type="dots" size="medium" color="#00aaff" text="Blue theme"></terminal-loader>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Orange Loader</span>
                        <terminal-loader id="loader12" type="bars" size="medium" color="#ff6b35" text="Warning state"></terminal-loader>
                    </div>
                </div>
            </div>

            <!-- Interactive Controls -->
            <div class="demo-section">
                <h2>Interactive Controls</h2>
                <p class="section-description">
                    Programmatic control of loaders and dynamic updates.
                </p>

                <div class="demo-grid">
                    <div class="demo-item">
                        <span class="demo-label">Show/Hide Controls</span>
                        <terminal-loader id="controllableLoader" type="spinner" size="medium" text="Controllable loader" style="display: none;"></terminal-loader>
                        <div class="control-buttons">
                            <terminal-button id="showLoaderBtn" variant="primary" size="small">Show Loader</terminal-button>
                            <terminal-button id="hideLoaderBtn" variant="secondary" size="small">Hide Loader</terminal-button>
                        </div>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Dynamic Updates</span>
                        <terminal-loader id="dynamicLoader" type="spinner" size="medium" text="Step 1 of 5"></terminal-loader>
                        <div class="control-buttons">
                            <terminal-button id="updateLoaderBtn" variant="primary" size="small">Next Step</terminal-button>
                            <terminal-button id="resetLoaderBtn" variant="secondary" size="small">Reset</terminal-button>
                        </div>
                    </div>

                    <div class="demo-item">
                        <span class="demo-label">Type Switching</span>
                        <terminal-loader id="typeSwitchLoader" type="spinner" size="medium" text="Loading content..."></terminal-loader>
                        <div class="control-buttons">
                            <terminal-button id="switchTypeBtn" variant="secondary" size="small">Switch Type</terminal-button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Integration Examples -->
            <div class="demo-section">
                <h2>Integration Examples</h2>
                <p class="section-description">
                    Real-world usage patterns and integration with other components.
                </p>

                <h3>Panel Loading State</h3>
                <div class="integration-demo">
                    <terminal-panel id="loaderPanel" mode="with-header" title="Data Panel" style="min-height: 200px; width: 100%;">
                        <div slot="content" style="display: flex; align-items: center; justify-content: center; height: 150px;">
                            <terminal-loader type="dots" size="medium" text="Loading data..." style="display: none;" id="panelLoader"></terminal-loader>
                            <div id="panelContent">
                                <p style="text-align: center;">Panel is ready. Click "Load Data" to see loading state.</p>
                                <div style="text-align: center; margin-top: 15px;">
                                    <terminal-button id="loadDataBtn" variant="primary" size="small">Load Data</terminal-button>
                                </div>
                            </div>
                        </div>
                    </terminal-panel>
                </div>

                <h3>Button Loading State</h3>
                <div class="integration-demo">
                    <div style="text-align: center;">
                        <p>Loading states integrated with buttons:</p>
                        <terminal-button id="saveWithLoader" variant="primary">Save Changes</terminal-button>
                        <div id="saveLoaderContainer" style="margin-top: 15px; display: none;">
                            <terminal-loader type="spinner" size="small" text="Saving..."></terminal-loader>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Event Log -->
            <div class="demo-section">
                <h2>Event Log</h2>
                <p class="section-description">
                    Loader state changes and interactions are logged here.
                </p>
                <div id="eventLog" class="event-log">
                    Interact with loaders above to see events...
                </div>
            </div>

            <!-- Code Examples -->
            <div class="demo-section">
                <h2>Code Examples</h2>
                <p class="section-description">
                    How to use Terminal Loader in your application.
                </p>

                <div class="code-example">
                    <pre>&lt;!-- Basic loader usage --&gt;
&lt;terminal-loader type="spinner" size="medium" text="Loading..."&gt;&lt;/terminal-loader&gt;
&lt;terminal-loader type="dots" size="large" color="#00ff41"&gt;&lt;/terminal-loader&gt;
&lt;terminal-loader type="bars" size="small" text="Processing..."&gt;&lt;/terminal-loader&gt;

&lt;!-- Custom colors and text --&gt;
&lt;terminal-loader type="spinner" size="medium" color="#ff6b35" text="Custom loader"&gt;&lt;/terminal-loader&gt;

&lt;!-- Hidden by default --&gt;
&lt;terminal-loader id="hiddenLoader" type="dots" style="display: none;" text="Hidden loader"&gt;&lt;/terminal-loader&gt;</pre>
                </div>

                <div class="code-example">
                    <pre>// JavaScript API
const loader = document.querySelector('terminal-loader');

// Show/hide programmatically
loader.show();                    // Show the loader
loader.hide();                    // Hide the loader
loader.toggle();                  // Toggle visibility

// Update properties
loader.setText('New message');    // Update loading text
loader.setType('dots');          // Change animation type
loader.setColor('#00aaff');      // Change color
loader.setSize('large');         // Change size

// Update multiple properties at once
loader.update({                   
    type: 'bars',
    size: 'large',
    text: 'Almost done...',
    color: '#ff6b35'
});

// Event listeners
loader.addEventListener('loader-shown', () => {
    console.log('Loader became visible');
});

loader.addEventListener('loader-hidden', () => {
    console.log('Loader was hidden');
});

// Async loading example
async function loadData() {
    const loader = document.getElementById('myLoader');
    
    try {
        loader.show();
        loader.setText('Loading data...');
        
        const response = await fetch('/api/data');
        loader.setText('Processing...');
        
        const data = await response.json();
        loader.setText('Finalizing...');
        
        // Process data...
        
    } catch (error) {
        loader.setColor('#ff6b35');
        loader.setText('Error loading data');
        setTimeout(() => loader.hide(), 2000);
        return;
    }
    
    loader.hide();
}</pre>
                </div>
            </div>
        </div>

        <!-- Import Components -->
        <script type="module">
            import '../js/components/TerminalComponent.js';
            import '../js/components/TerminalLoader.js';
            import '../js/components/TerminalButton.js';
            import '../js/components/TerminalPanel.js';

            function logEvent(message) {
                const eventLog = document.getElementById('eventLog');
                if (eventLog) {
                    const timestamp = new Date().toLocaleTimeString();
                    eventLog.innerHTML += `[${timestamp}] ${message}<br>`;
                    eventLog.scrollTop = eventLog.scrollHeight;
                }
            }

            // Track dynamic loader state
            let currentStep = 1;
            const maxSteps = 5;
            let currentLoaderType = 0;
            const loaderTypes = ['spinner', 'dots', 'bars'];

            // Setup after components load
            setTimeout(() => {
                // Controllable loader
                const controllableLoader = document.getElementById('controllableLoader');
                const showLoaderBtn = document.getElementById('showLoaderBtn');
                const hideLoaderBtn = document.getElementById('hideLoaderBtn');

                if (showLoaderBtn && controllableLoader) {
                    showLoaderBtn.addEventListener('click', () => {
                        controllableLoader.style.display = 'block';
                        if (controllableLoader.show) controllableLoader.show();
                        logEvent('Controllable loader shown');
                    });
                }

                if (hideLoaderBtn && controllableLoader) {
                    hideLoaderBtn.addEventListener('click', () => {
                        controllableLoader.style.display = 'none';
                        if (controllableLoader.hide) controllableLoader.hide();
                        logEvent('Controllable loader hidden');
                    });
                }

                // Dynamic loader updates
                const dynamicLoader = document.getElementById('dynamicLoader');
                const updateLoaderBtn = document.getElementById('updateLoaderBtn');
                const resetLoaderBtn = document.getElementById('resetLoaderBtn');

                if (updateLoaderBtn && dynamicLoader) {
                    updateLoaderBtn.addEventListener('click', () => {
                        currentStep++;
                        if (currentStep > maxSteps) currentStep = maxSteps;

                        const newText = `Step ${currentStep} of ${maxSteps}`;
                        dynamicLoader.setAttribute('text', newText);
                        if (dynamicLoader.setText) dynamicLoader.setText(newText);

                        logEvent(`Dynamic loader updated: ${newText}`);

                        if (currentStep === maxSteps) {
                            setTimeout(() => {
                                dynamicLoader.setAttribute('text', 'Complete!');
                                dynamicLoader.setAttribute('color', '#00ff41');
                                if (dynamicLoader.setText) dynamicLoader.setText('Complete!');
                                if (dynamicLoader.setColor) dynamicLoader.setColor('#00ff41');
                                logEvent('Dynamic loader completed');
                            }, 1000);
                        }
                    });
                }

                if (resetLoaderBtn && dynamicLoader) {
                    resetLoaderBtn.addEventListener('click', () => {
                        currentStep = 1;
                        const newText = `Step ${currentStep} of ${maxSteps}`;
                        dynamicLoader.setAttribute('text', newText);
                        dynamicLoader.setAttribute('color', '#00ff41');
                        if (dynamicLoader.setText) dynamicLoader.setText(newText);
                        if (dynamicLoader.setColor) dynamicLoader.setColor('#00ff41');
                        logEvent('Dynamic loader reset');
                    });
                }

                // Type switching loader
                const typeSwitchLoader = document.getElementById('typeSwitchLoader');
                const switchTypeBtn = document.getElementById('switchTypeBtn');

                if (switchTypeBtn && typeSwitchLoader) {
                    switchTypeBtn.addEventListener('click', () => {
                        currentLoaderType = (currentLoaderType + 1) % loaderTypes.length;
                        const newType = loaderTypes[currentLoaderType];

                        typeSwitchLoader.setAttribute('type', newType);
                        if (typeSwitchLoader.setType) typeSwitchLoader.setType(newType);

                        logEvent(`Loader type switched to: ${newType}`);
                    });
                }

                // Panel loading simulation
                const loadDataBtn = document.getElementById('loadDataBtn');
                const panelLoader = document.getElementById('panelLoader');
                const panelContent = document.getElementById('panelContent');

                if (loadDataBtn && panelLoader && panelContent) {
                    loadDataBtn.addEventListener('click', () => {
                        // Hide content, show loader
                        panelContent.style.display = 'none';
                        panelLoader.style.display = 'block';

                        logEvent('Panel loading started');

                        // Simulate loading stages
                        setTimeout(() => {
                            panelLoader.setAttribute('text', 'Fetching data...');
                            if (panelLoader.setText) panelLoader.setText('Fetching data...');
                        }, 500);

                        setTimeout(() => {
                            panelLoader.setAttribute('text', 'Processing...');
                            if (panelLoader.setText) panelLoader.setText('Processing...');
                        }, 1500);

                        setTimeout(() => {
                            panelLoader.setAttribute('text', 'Finalizing...');
                            if (panelLoader.setText) panelLoader.setText('Finalizing...');
                        }, 2500);

                        setTimeout(() => {
                            // Hide loader, show content
                            panelLoader.style.display = 'none';
                            panelContent.style.display = 'block';
                            panelContent.innerHTML = '<p style="text-align: center; color: #00ff41;">✓ Data loaded successfully!</p><div style="text-align: center; margin-top: 15px;"><terminal-button id="reloadBtn" variant="secondary" size="small">Load Again</terminal-button></div>';

                            // Re-setup the reload button
                            const reloadBtn = document.getElementById('reloadBtn');
                            if (reloadBtn) {
                                reloadBtn.addEventListener('click', () => {
                                    panelContent.innerHTML = '<p style="text-align: center;">Panel is ready. Click "Load Data" to see loading state.</p><div style="text-align: center; margin-top: 15px;"><terminal-button id="newLoadDataBtn" variant="primary" size="small">Load Data</terminal-button></div>';

                                    // Re-setup load data button
                                    const newLoadDataBtn = document.getElementById('newLoadDataBtn');
                                    if (newLoadDataBtn) {
                                        newLoadDataBtn.addEventListener('click', loadDataBtn.onclick);
                                    }
                                });
                            }

                            logEvent('Panel loading completed');
                        }, 3500);
                    });
                }

                // Button loading simulation
                const saveWithLoader = document.getElementById('saveWithLoader');
                const saveLoaderContainer = document.getElementById('saveLoaderContainer');

                if (saveWithLoader && saveLoaderContainer) {
                    saveWithLoader.addEventListener('click', () => {
                        saveWithLoader.disabled = true;
                        saveWithLoader.textContent = 'Saving...';
                        saveLoaderContainer.style.display = 'block';

                        logEvent('Save operation started');

                        setTimeout(() => {
                            saveLoaderContainer.style.display = 'none';
                            saveWithLoader.disabled = false;
                            saveWithLoader.textContent = 'Save Changes';
                            logEvent('Save operation completed');
                        }, 2000);
                    });
                }

                // Add event listeners to all loaders for state changes
                document.querySelectorAll('terminal-loader').forEach((loader, index) => {
                    loader.addEventListener('loader-shown', () => {
                        logEvent(`Loader ${index + 1} shown`);
                    });

                    loader.addEventListener('loader-hidden', () => {
                        logEvent(`Loader ${index + 1} hidden`);
                    });
                });

                logEvent('Loader demo initialized - Ready to demonstrate loading states!');
            }, 100);
        </script>
    </body>

</html>