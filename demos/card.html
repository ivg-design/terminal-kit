<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCardLit - Component Demo</title>
    <link rel="stylesheet" href="../css/demo-template.css">

    <style>
        t-card {
            width: 300px;
        }
        .card-title {
            color: var(--terminal-green);
            margin: 0 0 8px 0;
            font-size: 14px;
        }
        .card-text {
            color: var(--terminal-green-dim);
            margin: 0;
            font-size: 13px;
        }
        .card-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        /* Style buttons in actions slot (light DOM) */
        t-card [slot="actions"] button {
            background: transparent;
            border: 1px solid var(--terminal-green);
            color: var(--terminal-green);
            padding: 6px 12px;
            font-family: var(--font-mono, 'Courier New', monospace);
            font-size: 11px;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
        }
        t-card [slot="actions"] button:hover {
            background: var(--terminal-green);
            color: var(--terminal-black, #0a0a0a);
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="demo-header">
        <div class="demo-header-content">
            <div class="demo-header-left">
                <h1>TCardLit</h1>
                <div class="breadcrumb">
                    <a href="index.html">← Components</a> / Card
                </div>
            </div>
            <div class="demo-header-controls">
                <button class="header-btn" id="toggleLogBtn">▼ Event Log</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="demo-container">
        <div class="component-section">
            <h2 class="component-title">Card Component</h2>
            <p class="component-description">
                Flexible card container with slots for header, media, content, and actions.
            </p>

            <h3>Basic Card</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <t-card>
                        <h3 class="card-title">Basic Card</h3>
                        <p class="card-text">This is a simple card with just content. Cards provide a flexible container for displaying related information.</p>
                    </t-card>
                </div>
            </div>

            <h3>Variants</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Default</span>
                    <t-card variant="default">
                        <h3 class="card-title">Default</h3>
                        <p class="card-text">Default card variant with standard styling.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Outlined</span>
                    <t-card variant="outlined">
                        <h3 class="card-title">Outlined</h3>
                        <p class="card-text">Outlined card with transparent background.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Elevated</span>
                    <t-card variant="elevated">
                        <h3 class="card-title">Elevated</h3>
                        <p class="card-text">Elevated card with shadow effect.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Terminal</span>
                    <t-card variant="terminal">
                        <h3 class="card-title">Terminal</h3>
                        <p class="card-text">Terminal-style card with green glow.</p>
                    </t-card>
                </div>
            </div>

            <h3>With Header</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <t-card>
                        <div slot="header">System Status</div>
                        <p class="card-text">All systems operational. Last check: 2 minutes ago.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <t-card variant="terminal">
                        <div slot="header">Network Activity</div>
                        <p class="card-text">Active connections: 42<br>Bandwidth: 1.2 GB/s</p>
                    </t-card>
                </div>
            </div>

            <h3>With Media</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <t-card>
                        <img slot="media" class="card-image" src="https://images.unsplash.com/photo-1518432031352-d6fc5c10da5a?w=600" alt="Server rack">
                        <h3 class="card-title">Data Center</h3>
                        <p class="card-text">High-performance computing infrastructure.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <t-card variant="terminal">
                        <img slot="media" class="card-image" src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=600" alt="Circuit board">
                        <div slot="header">Hardware</div>
                        <p class="card-text">Custom PCB with advanced circuitry.</p>
                    </t-card>
                </div>
            </div>

            <h3>With Actions</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <t-card>
                        <div slot="header">Deployment</div>
                        <p class="card-text">Ready to deploy version 3.0.0 to production.</p>
                        <div slot="actions">
                            <button>Deploy</button>
                            <button>Cancel</button>
                        </div>
                    </t-card>
                </div>
                <div class="demo-item">
                    <t-card variant="terminal">
                        <h3 class="card-title">Alert</h3>
                        <p class="card-text">Security scan completed. 2 issues found.</p>
                        <div slot="actions">
                            <button>View Details</button>
                            <button>Dismiss</button>
                        </div>
                    </t-card>
                </div>
            </div>

            <h3>Clickable Cards</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Clickable</span>
                    <t-card id="click-card-1" clickable>
                        <div slot="header">Clickable</div>
                        <p class="card-text">Click me to trigger an event.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Selected</span>
                    <t-card id="click-card-2" clickable selected>
                        <div slot="header">Selected</div>
                        <p class="card-text">I'm currently selected.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Disabled</span>
                    <t-card id="click-card-3" clickable disabled>
                        <div slot="header">Disabled</div>
                        <p class="card-text">I'm disabled and not clickable.</p>
                    </t-card>
                </div>
            </div>

            <h3>Loading State</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <t-card loading>
                        <div slot="header">Loading Data</div>
                        <p class="card-text">Fetching information from the server...</p>
                    </t-card>
                </div>
            </div>

            <h3>Expandable Cards</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Expanded</span>
                    <t-card expandable expanded>
                        <div slot="header">Expandable Card</div>
                        <p class="card-text">This content can be collapsed. Click the arrow in the header to toggle visibility.</p>
                        <p class="card-text">Additional content that will be hidden when collapsed.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Collapsed (initially)</span>
                    <t-card expandable variant="terminal">
                        <div slot="header">Initially Collapsed</div>
                        <p class="card-text">This content is hidden by default.</p>
                        <p class="card-text">Click the arrow to reveal this text.</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Expanded</span>
                    <t-card expandable expanded variant="terminal">
                        <div slot="header">Terminal Logs</div>
                        <p class="card-text">[INFO] System startup complete</p>
                        <p class="card-text">[DEBUG] Initializing modules...</p>
                        <p class="card-text">[INFO] All services running</p>
                    </t-card>
                </div>
            </div>

            <h3>Padding Sizes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">None</span>
                    <t-card padding="none">
                        <p class="card-text">No padding</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Small</span>
                    <t-card padding="sm">
                        <p class="card-text">Small padding</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Medium</span>
                    <t-card padding="md">
                        <p class="card-text">Medium padding</p>
                    </t-card>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Large</span>
                    <t-card padding="lg">
                        <p class="card-text">Large padding</p>
                    </t-card>
                </div>
            </div>

            <h3>Interactive Demo</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Control with buttons</span>
                    <t-card id="interactive-card" variant="terminal" expandable>
                        <div slot="header">Interactive Card</div>
                        <p class="card-text">Control this card with the buttons below.</p>
                        <div slot="actions">
                            <button onclick="toggleSelect()">Toggle Select</button>
                        </div>
                    </t-card>
                    <div class="controls" style="margin-top: 15px;">
                        <button onclick="toggleLoading()">Loading</button>
                        <button onclick="toggleExpand()">Expand</button>
                        <button onclick="toggleDisabled()">Disabled</button>
                        <button onclick="cycleVariant()">Variant</button>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <code>&lt;!-- Basic card --&gt;
&lt;t-card&gt;
  &lt;h3&gt;Title&lt;/h3&gt;
  &lt;p&gt;Content&lt;/p&gt;
&lt;/t-card&gt;

&lt;!-- With slots --&gt;
&lt;t-card&gt;
  &lt;div slot="header"&gt;Header&lt;/div&gt;
  &lt;img slot="media" src="image.jpg"&gt;
  &lt;p&gt;Content&lt;/p&gt;
  &lt;div slot="actions"&gt;
    &lt;button&gt;Action&lt;/button&gt;
  &lt;/div&gt;
&lt;/t-card&gt;

&lt;!-- Variants --&gt;
&lt;t-card variant="terminal"&gt;...&lt;/t-card&gt;
&lt;t-card variant="elevated"&gt;...&lt;/t-card&gt;

&lt;!-- Clickable --&gt;
&lt;t-card clickable&gt;...&lt;/t-card&gt;

&lt;!-- Expandable --&gt;
&lt;t-card expandable expanded&gt;...&lt;/t-card&gt;

&lt;!-- JavaScript API --&gt;
&lt;script&gt;
  const card = document.querySelector('t-card');
  card.toggleExpand();
  card.addEventListener('card-click', (e) =&gt; {});
&lt;/script&gt;</code>
            </div>
        </div>
    </div>

    <!-- Floating Event Log -->
    <div class="event-log-container collapsed" id="eventLogContainer">
        <div class="event-log-toggle">
            <h3><span class="toggle-icon">▲</span> Event Log</h3>
            <div class="event-log-controls">
                <span class="event-log-count">0</span>
                <button class="event-log-clear">Clear</button>
            </div>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>

    <script type="module">
        import '../js/components/TCardLit.js';

        // Event log functionality
        let eventCount = 0;
        const eventLog = document.getElementById('eventLog');
        const eventLogContainer = document.getElementById('eventLogContainer');
        const countEl = document.querySelector('.event-log-count');
        const toggleLogBtn = document.getElementById('toggleLogBtn');

        function logEvent(component, event, detail) {
            const entry = document.createElement('div');
            entry.className = 'event-entry';
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${component}: ${event}${detail ? ' - ' + JSON.stringify(detail) : ''}`;
            eventLog.appendChild(entry);
            eventLog.scrollTop = eventLog.scrollHeight;
            eventCount++;
            countEl.textContent = eventCount;
        }

        // Toggle event log
        document.querySelector('.event-log-toggle').addEventListener('click', (e) => {
            if (e.target.closest('.event-log-clear')) return;
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        toggleLogBtn.addEventListener('click', () => {
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        // Clear log
        document.querySelector('.event-log-clear').addEventListener('click', (e) => {
            e.stopPropagation();
            eventLog.innerHTML = '';
            eventCount = 0;
            countEl.textContent = '0';
        });

        const interactiveCard = document.getElementById('interactive-card');
        const variants = ['default', 'outlined', 'elevated', 'terminal'];
        let variantIndex = 3;

        // Add click listeners to clickable cards
        document.querySelectorAll('t-card[clickable]').forEach(card => {
            card.addEventListener('card-click', () => {
                logEvent(card.id || 'card', 'card-click');
            });
        });

        // Interactive controls
        window.toggleSelect = () => {
            interactiveCard.selected = !interactiveCard.selected;
            logEvent('interactive', 'selected', { selected: interactiveCard.selected });
        };

        window.toggleLoading = () => {
            interactiveCard.loading = !interactiveCard.loading;
            logEvent('interactive', 'loading', { loading: interactiveCard.loading });
        };

        window.toggleExpand = () => {
            interactiveCard.toggleExpand();
            logEvent('interactive', 'toggleExpand');
        };

        window.toggleDisabled = () => {
            interactiveCard.disabled = !interactiveCard.disabled;
            logEvent('interactive', 'disabled', { disabled: interactiveCard.disabled });
        };

        window.cycleVariant = () => {
            variantIndex = (variantIndex + 1) % variants.length;
            interactiveCard.variant = variants[variantIndex];
            logEvent('interactive', 'variant', { variant: variants[variantIndex] });
        };

        logEvent('System', 'Demo initialized');
    </script>
    <script type="module" src="../js/utils/demo-color-picker.js"></script>
</body>
</html>
