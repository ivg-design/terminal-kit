<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TProgressLit - Component Demo</title>
    <script src="../js/utils/accent-init.js"></script>
    <link rel="stylesheet" href="../css/demo-template.css">

    <style>
        .demo-item.wide {
            width: 300px;
        }
        .demo-grid.vertical-grid {
            height: 220px;
            grid-template-columns: repeat(4, minmax(120px, 1fr));
            align-items: stretch;
            margin-bottom: 32px;
        }
        .demo-grid.vertical-grid .demo-item {
            height: 100%;
            overflow: hidden;
        }
        .demo-grid.vertical-grid t-prg[vertical] {
            height: 100%;
        }
        .interactive-demo {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .interactive-metrics {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
            flex-wrap: nowrap;
        }
        .interactive-bar {
            flex: 1 1 320px;
            min-width: 260px;
        }
        .interactive-ring {
            flex: 0 0 auto;
        }
        .interactive-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        @media (max-width: 1100px) {
            .demo-grid.vertical-grid {
                grid-template-columns: repeat(2, minmax(160px, 1fr));
            }
        }
        @media (max-width: 700px) {
            .demo-grid.vertical-grid {
                grid-template-columns: 1fr;
                height: auto;
            }
            .demo-grid.vertical-grid .demo-item {
                height: 220px;
            }
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="demo-header">
        <div class="demo-header-content">
            <div class="demo-header-left">
                <h1>TProgressLit</h1>
                <div class="breadcrumb">
                    <a href="index.html">← Components</a> / Progress
                </div>
            </div>
            <div class="demo-header-controls">
                <button class="header-btn" id="toggleLogBtn">▼ Event Log</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="demo-container">
        <div class="component-section">
            <h2 class="component-title">Progress Component</h2>
            <p class="component-description">
                Progress indicator component with bar and ring types, variants, and animations.
            </p>

            <h3>Bar Progress</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="25" show-label></t-prg>
                    <span class="demo-label">25%</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="50" show-label></t-prg>
                    <span class="demo-label">50%</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="75" show-label></t-prg>
                    <span class="demo-label">75%</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="100" show-label></t-prg>
                    <span class="demo-label">100%</span>
                </div>
            </div>

            <h3>Variants</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="60" variant="default" show-label></t-prg>
                    <span class="demo-label">Default</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" variant="success" show-label></t-prg>
                    <span class="demo-label">Success</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" variant="warning" show-label></t-prg>
                    <span class="demo-label">Warning</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" variant="error" show-label></t-prg>
                    <span class="demo-label">Error</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" variant="info" show-label></t-prg>
                    <span class="demo-label">Info</span>
                </div>
            </div>

            <h3>Sizes</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="60" size="sm" show-label></t-prg>
                    <span class="demo-label">Small</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" size="md" show-label></t-prg>
                    <span class="demo-label">Medium</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" size="lg" show-label></t-prg>
                    <span class="demo-label">Large</span>
                </div>
            </div>

            <h3>Striped & Animated</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="60" striped show-label></t-prg>
                    <span class="demo-label">Striped</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" striped animated show-label></t-prg>
                    <span class="demo-label">Striped + Animated</span>
                </div>
            </div>

            <h3>Buffer (Secondary Progress)</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="40" buffer="70" show-label></t-prg>
                    <span class="demo-label">Value: 40% / Buffer: 70%</span>
                </div>
            </div>

            <h3>Indeterminate</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg indeterminate></t-prg>
                    <span class="demo-label">Loading...</span>
                </div>
                <div class="demo-item wide">
                    <t-prg indeterminate variant="warning"></t-prg>
                    <span class="demo-label">Warning State</span>
                </div>
            </div>

            <h3>Segmented Progress</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="60" segments="5" show-label></t-prg>
                    <span class="demo-label">5 Segments</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="80" segments="10" show-label></t-prg>
                    <span class="demo-label">10 Segments</span>
                </div>
            </div>

            <h3>Squared Style</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="60" squared show-label></t-prg>
                    <span class="demo-label">Squared Corners</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="60" squared striped show-label></t-prg>
                    <span class="demo-label">Squared + Striped</span>
                </div>
            </div>

            <h3>With Tick Marks</h3>
            <div class="demo-grid">
                <div class="demo-item wide">
                    <t-prg value="75" show-ticks show-label></t-prg>
                    <span class="demo-label">Default Ticks (10%)</span>
                </div>
                <div class="demo-item wide">
                    <t-prg value="75" show-ticks tick-interval="20" squared show-label></t-prg>
                    <span class="demo-label">20% Ticks + Squared</span>
                </div>
            </div>

            <h3>Vertical Orientation</h3>
            <div class="demo-grid vertical-grid">
                <div class="demo-item">
                    <t-prg value="30" vertical show-label></t-prg>
                    <span class="demo-label">30%</span>
                </div>
                <div class="demo-item">
                    <t-prg value="60" vertical squared show-label></t-prg>
                    <span class="demo-label">Squared</span>
                </div>
                <div class="demo-item">
                    <t-prg value="75" vertical show-ticks show-label></t-prg>
                    <span class="demo-label">With Ticks</span>
                </div>
                <div class="demo-item">
                    <t-prg indeterminate vertical variant="info"></t-prg>
                    <span class="demo-label">Indeterminate</span>
                </div>
            </div>

            <h3>Ring Progress</h3>
            <div class="demo-grid">
                <div class="demo-item centered">
                    <t-prg type="ring" value="25" size="sm" show-label></t-prg>
                    <span class="demo-label">Small 25%</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="50" size="md" show-label></t-prg>
                    <span class="demo-label">Medium 50%</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="75" size="lg" show-label></t-prg>
                    <span class="demo-label">Large 75%</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="100" size="lg" show-label variant="success"></t-prg>
                    <span class="demo-label">Complete</span>
                </div>
            </div>

            <h3>Ring Variants</h3>
            <div class="demo-grid">
                <div class="demo-item centered">
                    <t-prg type="ring" value="60" variant="default" show-label></t-prg>
                    <span class="demo-label">Default</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="60" variant="warning" show-label></t-prg>
                    <span class="demo-label">Warning</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="60" variant="error" show-label></t-prg>
                    <span class="demo-label">Error</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" value="60" variant="info" show-label></t-prg>
                    <span class="demo-label">Info</span>
                </div>
            </div>

            <h3>Ring Indeterminate</h3>
            <div class="demo-grid">
                <div class="demo-item centered">
                    <t-prg type="ring" indeterminate></t-prg>
                    <span class="demo-label">Loading</span>
                </div>
                <div class="demo-item centered">
                    <t-prg type="ring" indeterminate variant="warning"></t-prg>
                    <span class="demo-label">Warning</span>
                </div>
            </div>

            <h3>Interactive Demo</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Control with buttons</span>
                    <div class="interactive-demo">
                        <div class="interactive-metrics">
                            <t-prg id="demo-bar" class="interactive-bar" value="0" show-label></t-prg>
                            <t-prg id="demo-ring" class="interactive-ring" type="ring" value="0" show-label></t-prg>
                        </div>
                        <div class="interactive-actions">
                            <t-btn size="sm" onclick="increment()">+10</t-btn>
                            <t-btn size="sm" onclick="decrement()">-10</t-btn>
                            <t-btn size="sm" onclick="resetProgress()">Reset</t-btn>
                            <t-btn size="sm" onclick="simulateLoading()">Simulate Loading</t-btn>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <code>&lt;!-- Basic progress bar --&gt;
&lt;t-prg value="50" show-label&gt;&lt;/t-prg&gt;

&lt;!-- Ring progress --&gt;
&lt;t-prg type="ring" value="75"&gt;&lt;/t-prg&gt;

&lt;!-- Variants --&gt;
&lt;t-prg value="60" variant="success"&gt;&lt;/t-prg&gt;
&lt;t-prg value="60" variant="warning"&gt;&lt;/t-prg&gt;

&lt;!-- Striped & animated --&gt;
&lt;t-prg value="50" striped animated&gt;&lt;/t-prg&gt;

&lt;!-- Indeterminate --&gt;
&lt;t-prg indeterminate&gt;&lt;/t-prg&gt;

&lt;!-- JavaScript API --&gt;
&lt;script&gt;
  const progress = document.querySelector('t-prg');
  progress.setValue(75);
  progress.increment(10);
  progress.decrement(10);
  progress.reset();
  progress.addEventListener('progress-complete', () =&gt; {});
&lt;/script&gt;</code>
            </div>
        </div>
    </div>

    <!-- Floating Event Log -->
    <div class="event-log-container collapsed" id="eventLogContainer">
        <div class="event-log-toggle">
            <h3><span class="toggle-icon">▲</span> Event Log</h3>
            <div class="event-log-controls">
                <span class="event-log-count">0</span>
                <button class="event-log-clear">Clear</button>
            </div>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>

    <script type="module">
        import '../js/components/TButtonLit.js';
        import '../js/components/TProgressLit.js';

        // Event log functionality
        let eventCount = 0;
        const eventLog = document.getElementById('eventLog');
        const eventLogContainer = document.getElementById('eventLogContainer');
        const countEl = document.querySelector('.event-log-count');
        const toggleLogBtn = document.getElementById('toggleLogBtn');

        function logEvent(component, event, detail) {
            const entry = document.createElement('div');
            entry.className = 'event-entry';
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${component}: ${event}${detail ? ' - ' + JSON.stringify(detail) : ''}`;
            eventLog.appendChild(entry);
            eventLog.scrollTop = eventLog.scrollHeight;
            eventCount++;
            countEl.textContent = eventCount;
        }

        // Toggle event log
        document.querySelector('.event-log-toggle').addEventListener('click', (e) => {
            if (e.target.closest('.event-log-clear')) return;
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        toggleLogBtn.addEventListener('click', () => {
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        // Clear log
        document.querySelector('.event-log-clear').addEventListener('click', (e) => {
            e.stopPropagation();
            eventLog.innerHTML = '';
            eventCount = 0;
            countEl.textContent = '0';
        });

        const demoBar = document.getElementById('demo-bar');
        const demoRing = document.getElementById('demo-ring');

        window.increment = () => {
            demoBar.increment(10);
            demoRing.increment(10);
            logEvent('interactive', 'increment', { barValue: demoBar.value, ringValue: demoRing.value });
        };

        window.decrement = () => {
            demoBar.decrement(10);
            demoRing.decrement(10);
            logEvent('interactive', 'decrement', { barValue: demoBar.value, ringValue: demoRing.value });
        };

        window.resetProgress = () => {
            demoBar.reset();
            demoRing.reset();
            logEvent('interactive', 'reset');
        };

        window.simulateLoading = () => {
            demoBar.reset();
            demoRing.reset();
            logEvent('interactive', 'simulate-start');
            let value = 0;
            const interval = setInterval(() => {
                value += Math.random() * 15;
                if (value >= 100) {
                    value = 100;
                    clearInterval(interval);
                }
                demoBar.setValue(value);
                demoRing.setValue(value);
            }, 200);
        };

        // Listen for complete event
        demoBar.addEventListener('progress-complete', () => {
            logEvent('demo-bar', 'progress-complete');
        });

        demoRing.addEventListener('progress-complete', () => {
            logEvent('demo-ring', 'progress-complete');
        });

        logEvent('System', 'Demo initialized');
    </script>
    <script type="module" src="../js/utils/demo-color-picker.js"></script>
</body>
</html>
