<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTabsLit - Component Demo</title>

    <!-- Demo Template Styles -->
    <link rel="stylesheet" href="../css/demo-template.css">

    <style>
        .tab-container {
            background: var(--terminal-gray-darkest);
            border: 1px solid var(--terminal-gray-light);
            margin-bottom: 15px;
        }

        .tab-content {
            padding: 20px;
            color: var(--terminal-green-dim);
        }

        .tab-content h3 {
            color: var(--terminal-green);
            margin-top: 0;
            margin-bottom: 10px;
        }

        .controls {
            margin-top: 10px;
        }

        .controls button {
            background: transparent;
            border: 1px solid var(--terminal-green);
            color: var(--terminal-green);
            padding: 6px 12px;
            font-family: var(--font-mono);
            font-size: 11px;
            cursor: pointer;
            margin-right: 5px;
        }

        .controls button:hover {
            background: rgba(0, 255, 65, 0.1);
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="demo-header">
        <div class="demo-header-content">
            <div class="demo-header-left">
                <h1>TTabsLit</h1>
                <div class="breadcrumb">
                    <a href="index.html">← Components</a> / Tabs
                </div>
            </div>
            <div class="demo-header-controls">
                <button class="header-btn" id="toggleLogBtn">▼ Event Log</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="demo-container">
        <div class="component-section">
            <h2 class="component-title">Tab Navigation</h2>
            <p class="component-description">
                Tab component with panel switching, multiple variants, sizes, vertical orientation, and keyboard navigation.
            </p>

            <h3>Basic Tabs</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Default Horizontal</span>
                    <div class="tab-container">
                        <t-tabs id="basic-tabs">
                            <div slot="tab-overview" class="tab-content">
                                <h3>Overview</h3>
                                <p>Terminal Kit provides a set of web components for terminal-style interfaces.</p>
                            </div>
                            <div slot="tab-features" class="tab-content">
                                <h3>Features</h3>
                                <p>Pure Lit 3.x components, terminal styling, keyboard navigation.</p>
                            </div>
                            <div slot="tab-usage" class="tab-content">
                                <h3>Usage</h3>
                                <code>&lt;t-tabs tabs='[...]'&gt;&lt;/t-tabs&gt;</code>
                            </div>
                        </t-tabs>
                    </div>
                </div>
            </div>

            <h3>Variants</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Default (Underline)</span>
                    <div class="tab-container">
                        <t-tabs id="variant-default">
                            <div slot="tab-tab1" class="tab-content">Underline content 1</div>
                            <div slot="tab-tab2" class="tab-content">Underline content 2</div>
                        </t-tabs>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Boxed</span>
                    <div class="tab-container">
                        <t-tabs id="variant-boxed" variant="boxed">
                            <div slot="tab-tab1" class="tab-content">Boxed content 1</div>
                            <div slot="tab-tab2" class="tab-content">Boxed content 2</div>
                        </t-tabs>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Pills</span>
                    <div class="tab-container">
                        <t-tabs id="variant-pills" variant="pills">
                            <div slot="tab-tab1" class="tab-content">Pills content 1</div>
                            <div slot="tab-tab2" class="tab-content">Pills content 2</div>
                        </t-tabs>
                    </div>
                </div>
            </div>

            <h3>Sizes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Small</span>
                    <div class="tab-container">
                        <t-tabs id="size-sm" size="sm">
                            <div slot="tab-tab1" class="tab-content">Small tab content</div>
                            <div slot="tab-tab2" class="tab-content">Small tab content 2</div>
                        </t-tabs>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Medium (Default)</span>
                    <div class="tab-container">
                        <t-tabs id="size-md" size="md">
                            <div slot="tab-tab1" class="tab-content">Medium tab content</div>
                            <div slot="tab-tab2" class="tab-content">Medium tab content 2</div>
                        </t-tabs>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Large</span>
                    <div class="tab-container">
                        <t-tabs id="size-lg" size="lg">
                            <div slot="tab-tab1" class="tab-content">Large tab content</div>
                            <div slot="tab-tab2" class="tab-content">Large tab content 2</div>
                        </t-tabs>
                    </div>
                </div>
            </div>

            <h3>Special Features</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Vertical Orientation</span>
                    <div class="tab-container" style="min-height: 180px;">
                        <t-tabs id="vertical-tabs" orientation="vertical">
                            <div slot="tab-settings" class="tab-content"><h3>Settings</h3><p>Configure application.</p></div>
                            <div slot="tab-profile" class="tab-content"><h3>Profile</h3><p>Manage profile info.</p></div>
                            <div slot="tab-security" class="tab-content"><h3>Security</h3><p>Privacy settings.</p></div>
                        </t-tabs>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Closable Tabs</span>
                    <div class="tab-container">
                        <t-tabs id="closable-tabs" closable>
                            <div slot="tab-doc1" class="tab-content">Document 1 content</div>
                            <div slot="tab-doc2" class="tab-content">Document 2 content</div>
                            <div slot="tab-doc3" class="tab-content">Document 3 content</div>
                        </t-tabs>
                    </div>
                    <div class="controls">
                        <button onclick="resetClosableTabs()">Reset Tabs</button>
                    </div>
                </div>
            </div>

            <h3>Programmatic Control</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Control via JavaScript</span>
                    <div class="tab-container">
                        <t-tabs id="programmatic-tabs">
                            <div slot="tab-first" class="tab-content">First tab content</div>
                            <div slot="tab-second" class="tab-content">Second tab content</div>
                            <div slot="tab-third" class="tab-content">Third tab content</div>
                        </t-tabs>
                    </div>
                    <div class="controls">
                        <button onclick="selectFirst()">First</button>
                        <button onclick="selectSecond()">Second</button>
                        <button onclick="selectThird()">Third</button>
                        <button onclick="addNewTab()">Add Tab</button>
                    </div>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Disabled Tab</span>
                    <div class="tab-container">
                        <t-tabs id="disabled-tabs">
                            <div slot="tab-active" class="tab-content">Active tab content</div>
                            <div slot="tab-disabled" class="tab-content">Won't be accessible</div>
                            <div slot="tab-another" class="tab-content">Another enabled tab</div>
                        </t-tabs>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <code>&lt;!-- Basic tabs --&gt;
&lt;t-tabs id="myTabs"&gt;
  &lt;div slot="tab-one" class="tab-content"&gt;Content 1&lt;/div&gt;
  &lt;div slot="tab-two" class="tab-content"&gt;Content 2&lt;/div&gt;
&lt;/t-tabs&gt;

&lt;!-- Variants --&gt;
&lt;t-tabs variant="boxed"&gt;...&lt;/t-tabs&gt;
&lt;t-tabs variant="pills"&gt;...&lt;/t-tabs&gt;

&lt;!-- Sizes --&gt;
&lt;t-tabs size="sm"&gt;...&lt;/t-tabs&gt;
&lt;t-tabs size="lg"&gt;...&lt;/t-tabs&gt;

&lt;!-- Vertical --&gt;
&lt;t-tabs orientation="vertical"&gt;...&lt;/t-tabs&gt;

&lt;!-- Closable --&gt;
&lt;t-tabs closable&gt;...&lt;/t-tabs&gt;

&lt;!-- JavaScript API --&gt;
&lt;script&gt;
  const tabs = document.querySelector('t-tabs');
  tabs.tabs = [
    { id: 'one', label: 'Tab One' },
    { id: 'two', label: 'Tab Two', disabled: true }
  ];
  tabs.selectTab('one');
  tabs.addTab({ id: 'new', label: 'New Tab' });
  tabs.removeTab('old');

  tabs.addEventListener('tab-change', (e) =&gt; {});
  tabs.addEventListener('tab-close', (e) =&gt; {});
&lt;/script&gt;</code>
            </div>
        </div>
    </div>

    <!-- Floating Event Log -->
    <div class="event-log-container collapsed" id="eventLogContainer">
        <div class="event-log-toggle">
            <h3><span class="toggle-icon">▲</span> Event Log</h3>
            <div class="event-log-controls">
                <span class="event-log-count">0</span>
                <button class="event-log-clear">Clear</button>
            </div>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>

    <script type="module">
        import '../js/components/TTabsLit.js';

        // Event log functionality
        let eventCount = 0;
        const eventLog = document.getElementById('eventLog');
        const eventLogContainer = document.getElementById('eventLogContainer');
        const countEl = document.querySelector('.event-log-count');
        const toggleLogBtn = document.getElementById('toggleLogBtn');

        function logEvent(component, event, detail) {
            const entry = document.createElement('div');
            entry.className = 'event-entry';
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${component}: ${event}${detail ? ' - ' + JSON.stringify(detail) : ''}`;
            eventLog.appendChild(entry);
            eventLog.scrollTop = eventLog.scrollHeight;
            eventCount++;
            countEl.textContent = eventCount;
        }

        // Toggle event log
        document.querySelector('.event-log-toggle').addEventListener('click', (e) => {
            if (e.target.closest('.event-log-clear')) return;
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        toggleLogBtn.addEventListener('click', () => {
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        // Clear log
        document.querySelector('.event-log-clear').addEventListener('click', (e) => {
            e.stopPropagation();
            eventLog.innerHTML = '';
            eventCount = 0;
            countEl.textContent = '0';
        });

        // Initialize tabs
        document.getElementById('basic-tabs').tabs = [
            { id: 'overview', label: 'Overview' },
            { id: 'features', label: 'Features' },
            { id: 'usage', label: 'Usage' }
        ];

        ['variant-default', 'variant-boxed', 'variant-pills'].forEach(id => {
            document.getElementById(id).tabs = [
                { id: 'tab1', label: 'Tab One' },
                { id: 'tab2', label: 'Tab Two' }
            ];
        });

        ['size-sm', 'size-md', 'size-lg'].forEach(id => {
            document.getElementById(id).tabs = [
                { id: 'tab1', label: 'Tab One' },
                { id: 'tab2', label: 'Tab Two' }
            ];
        });

        document.getElementById('vertical-tabs').tabs = [
            { id: 'settings', label: 'Settings' },
            { id: 'profile', label: 'Profile' },
            { id: 'security', label: 'Security' }
        ];

        const closableTabsInitial = [
            { id: 'doc1', label: 'Document 1' },
            { id: 'doc2', label: 'Document 2' },
            { id: 'doc3', label: 'Document 3' }
        ];
        document.getElementById('closable-tabs').tabs = [...closableTabsInitial];

        document.getElementById('disabled-tabs').tabs = [
            { id: 'active', label: 'Active' },
            { id: 'disabled', label: 'Disabled', disabled: true },
            { id: 'another', label: 'Another' }
        ];

        const programmaticTabs = document.getElementById('programmatic-tabs');
        programmaticTabs.tabs = [
            { id: 'first', label: 'First' },
            { id: 'second', label: 'Second' },
            { id: 'third', label: 'Third' }
        ];

        // Global functions
        window.resetClosableTabs = () => {
            document.getElementById('closable-tabs').tabs = [...closableTabsInitial];
            logEvent('closable-tabs', 'reset');
        };

        window.selectFirst = () => { programmaticTabs.selectTab('first'); logEvent('programmatic', 'selectTab', { id: 'first' }); };
        window.selectSecond = () => { programmaticTabs.selectTab('second'); logEvent('programmatic', 'selectTab', { id: 'second' }); };
        window.selectThird = () => { programmaticTabs.selectTab('third'); logEvent('programmatic', 'selectTab', { id: 'third' }); };

        let tabCounter = 4;
        window.addNewTab = () => {
            const newId = `new${tabCounter}`;
            programmaticTabs.addTab({ id: newId, label: `New ${tabCounter}` });
            const content = document.createElement('div');
            content.slot = `tab-${newId}`;
            content.className = 'tab-content';
            content.textContent = `Content for new tab ${tabCounter}`;
            programmaticTabs.appendChild(content);
            logEvent('programmatic', 'addTab', { id: newId });
            tabCounter++;
        };

        // Listen for events
        document.querySelectorAll('t-tabs').forEach(tabs => {
            tabs.addEventListener('tab-change', (e) => {
                logEvent(tabs.id || 'tabs', 'tab-change', e.detail);
            });
            tabs.addEventListener('tab-close', (e) => {
                logEvent(tabs.id || 'tabs', 'tab-close', e.detail);
            });
        });

        logEvent('System', 'Demo initialized');
    </script>
    <script type="module" src="../js/utils/demo-color-picker.js"></script>
</body>
</html>
