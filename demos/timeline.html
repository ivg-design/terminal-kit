<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTimelineLit - Component Demo</title>
    <script src="../js/utils/accent-init.js"></script>
    <link rel="stylesheet" href="../css/demo-template.css">

    <style>
        .expand-content {
            color: var(--terminal-green-dim);
            font-size: 12px;
            padding: 8px 0;
        }
        .expand-content ul {
            margin: 8px 0;
            padding-left: 20px;
        }
        .expand-content li {
            margin: 4px 0;
        }
        /* Control button styles */
        .controls button {
            background: transparent;
            border: 1px solid var(--terminal-green);
            color: var(--terminal-green);
            padding: 6px 12px;
            font-family: var(--font-mono, 'Courier New', monospace);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .controls button:hover {
            background: var(--terminal-green);
            color: var(--terminal-black, #0a0a0a);
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="demo-header">
        <div class="demo-header-content">
            <div class="demo-header-left">
                <h1>TTimelineLit</h1>
                <div class="breadcrumb">
                    <a href="index.html">Components</a> / Timeline
                </div>
            </div>
            <div class="demo-header-controls">
                <button class="header-btn" id="toggleLogBtn">Event Log</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="demo-container">
        <div class="component-section">
            <h2 class="component-title">Timeline Component</h2>
            <p class="component-description">
                Vertical and horizontal timeline for displaying chronological events with variants, expansion, and custom content.
            </p>

            <h3>Basic Vertical Timeline</h3>
            <div class="demo-grid single">
                <div class="demo-item">
                    <t-tmln id="basic-timeline"></t-tmln>
                </div>
            </div>

            <h3>Variants</h3>
            <div class="demo-grid single">
                <div class="demo-item">
                    <t-tmln id="variants-timeline"></t-tmln>
                </div>
            </div>

            <h3>Expandable Items</h3>
            <p style="color: var(--terminal-gray); font-size: 12px; margin-bottom: 15px;">Click items to expand/collapse</p>
            <div class="demo-grid single">
                <div class="demo-item">
                    <t-tmln id="expandable-timeline">
                        <div slot="expand-deploy" class="expand-content">
                            <p>Deployment details:</p>
                            <ul>
                                <li>Deployed to production cluster</li>
                                <li>3 replicas running</li>
                                <li>Health checks passing</li>
                            </ul>
                        </div>
                        <div slot="expand-review" class="expand-content">
                            <p>Review completed by: @reviewer</p>
                            <ul>
                                <li>Code quality: Approved</li>
                                <li>Security: Approved</li>
                                <li>Performance: Approved</li>
                            </ul>
                        </div>
                    </t-tmln>
                </div>
            </div>

            <h3>Dense Mode</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Normal</span>
                    <t-tmln id="normal-timeline"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Dense</span>
                    <t-tmln id="dense-timeline" dense></t-tmln>
                </div>
            </div>

            <h3>Line Position (Vertical)</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">line-position="left" (default)</span>
                    <t-tmln id="line-left-timeline" line-position="left"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">line-position="right"</span>
                    <t-tmln id="line-right-timeline" line-position="right"></t-tmln>
                </div>
            </div>

            <h3>Dot Sizes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">dot-size="sm"</span>
                    <t-tmln id="dot-sm-timeline" dot-size="sm"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-size="md" (default)</span>
                    <t-tmln id="dot-md-timeline"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-size="lg"</span>
                    <t-tmln id="dot-lg-timeline" dot-size="lg"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-size="xl"</span>
                    <t-tmln id="dot-xl-timeline" dot-size="xl"></t-tmln>
                </div>
            </div>

            <h3>Dot Shapes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">dot-shape="circle" (default)</span>
                    <t-tmln id="shape-circle-timeline"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-shape="square"</span>
                    <t-tmln id="shape-square-timeline" dot-shape="square"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-shape="diamond"</span>
                    <t-tmln id="shape-diamond-timeline" dot-shape="diamond"></t-tmln>
                </div>
            </div>

            <h3>Dot Color Modes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">dot-color-mode="variant" (default)</span>
                    <t-tmln id="color-variant-timeline"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-color-mode="uniform"</span>
                    <t-tmln id="color-uniform-timeline" dot-color-mode="uniform" dot-color="#00ff41"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">dot-color-mode="gradient"</span>
                    <t-tmln id="color-gradient-timeline" dot-color-mode="gradient" dot-color-start="#00ff41" dot-color-end="#00ffff"></t-tmln>
                </div>
            </div>

            <h3>Horizontal Timeline</h3>
            <div class="demo-grid single">
                <div class="demo-item">
                    <span class="demo-label">orientation="horizontal" (default line-position="top")</span>
                    <t-tmln id="horizontal-timeline" orientation="horizontal"></t-tmln>
                </div>
            </div>

            <h3>Horizontal Line Position</h3>
            <div class="demo-grid single">
                <div class="demo-item">
                    <span class="demo-label">line-position="top" (default)</span>
                    <t-tmln id="horizontal-top-timeline" orientation="horizontal" line-position="top"></t-tmln>
                </div>
            </div>
            <div class="demo-grid single">
                <div class="demo-item">
                    <span class="demo-label">line-position="bottom"</span>
                    <t-tmln id="horizontal-bottom-timeline" orientation="horizontal" line-position="bottom"></t-tmln>
                </div>
            </div>

            <h3>Horizontal Content Alignment</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">content-align="left"</span>
                    <t-tmln id="horizontal-left-timeline" orientation="horizontal" content-align="left"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">content-align="center" (default)</span>
                    <t-tmln id="horizontal-center-timeline" orientation="horizontal"></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">content-align="right"</span>
                    <t-tmln id="horizontal-right-timeline" orientation="horizontal" content-align="right"></t-tmln>
                </div>
            </div>

            <h3>Horizontal Dense</h3>
            <div class="demo-grid single">
                <div class="demo-item">
                    <span class="demo-label">orientation="horizontal" dense</span>
                    <t-tmln id="horizontal-dense-timeline" orientation="horizontal" dense></t-tmln>
                </div>
            </div>

            <h3>Loading States</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Loading</span>
                    <t-tmln id="loading-timeline" loading></t-tmln>
                </div>
                <div class="demo-item">
                    <span class="demo-label">Loading More</span>
                    <t-tmln id="loading-more-timeline" loading-more></t-tmln>
                </div>
            </div>

            <h3>Interactive Demo</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Control with buttons</span>
                    <div class="controls" style="margin-bottom: 15px;">
                        <button onclick="toggleDense()">Toggle Dense</button>
                        <button onclick="toggleLoading()">Toggle Loading</button>
                        <button onclick="addItem()">Add Item</button>
                        <button onclick="toggleOrientation()">Toggle Orientation</button>
                    </div>
                    <t-tmln id="interactive-timeline"></t-tmln>
                </div>
            </div>

            <div class="code-block">
                <code>&lt;!-- Basic timeline --&gt;
&lt;t-tmln id="timeline"&gt;&lt;/t-tmln&gt;
&lt;script&gt;
  document.getElementById('timeline').items = [
    { id: '1', title: 'Event 1', date: 'Jan 1', description: 'Description' },
    { id: '2', title: 'Event 2', date: 'Jan 2', variant: 'success' }
  ];
&lt;/script&gt;

&lt;!-- Dense mode --&gt;
&lt;t-tmln dense&gt;&lt;/t-tmln&gt;

&lt;!-- Horizontal --&gt;
&lt;t-tmln orientation="horizontal"&gt;&lt;/t-tmln&gt;

&lt;!-- Line position --&gt;
&lt;t-tmln line-position="right"&gt;&lt;/t-tmln&gt;
&lt;t-tmln orientation="horizontal" line-position="bottom"&gt;&lt;/t-tmln&gt;

&lt;!-- Dot customization --&gt;
&lt;t-tmln dot-size="lg" dot-shape="square"&gt;&lt;/t-tmln&gt;
&lt;t-tmln dot-color-mode="uniform" dot-color="#00ff41"&gt;&lt;/t-tmln&gt;
&lt;t-tmln dot-color-mode="gradient" dot-color-start="#00ff41" dot-color-end="#00ffff"&gt;&lt;/t-tmln&gt;

&lt;!-- Variants: default, success, warning, error, info, pending --&gt;</code>
            </div>
        </div>
    </div>

    <!-- Floating Event Log -->
    <div class="event-log-container collapsed" id="eventLogContainer">
        <div class="event-log-toggle">
            <h3><span class="toggle-icon"></span> Event Log</h3>
            <div class="event-log-controls">
                <span class="event-log-count">0</span>
                <button class="event-log-clear">Clear</button>
            </div>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>

    <script type="module">
        import '../js/components/TTimelineLit.js';

        // Event log functionality
        let eventCount = 0;
        const eventLog = document.getElementById('eventLog');
        const eventLogContainer = document.getElementById('eventLogContainer');
        const countEl = document.querySelector('.event-log-count');
        const toggleLogBtn = document.getElementById('toggleLogBtn');

        function logEvent(component, event, detail) {
            const entry = document.createElement('div');
            entry.className = 'event-entry';
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${component}: ${event}${detail ? ' - ' + JSON.stringify(detail) : ''}`;
            eventLog.appendChild(entry);
            eventLog.scrollTop = eventLog.scrollHeight;
            eventCount++;
            countEl.textContent = eventCount;
        }

        // Toggle event log
        document.querySelector('.event-log-toggle').addEventListener('click', (e) => {
            if (e.target.closest('.event-log-clear')) return;
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        toggleLogBtn.addEventListener('click', () => {
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        // Clear log
        document.querySelector('.event-log-clear').addEventListener('click', (e) => {
            e.stopPropagation();
            eventLog.innerHTML = '';
            eventCount = 0;
            countEl.textContent = '0';
        });

        // Basic timeline
        document.getElementById('basic-timeline').items = [
            { id: '1', title: 'Project Started', date: 'Jan 1, 2024', description: 'Kicked off the new project with initial planning.' },
            { id: '2', title: 'Design Phase', date: 'Jan 15, 2024', description: 'Completed wireframes and design mockups.' },
            { id: '3', title: 'Development', date: 'Feb 1, 2024', description: 'Started building core features.' },
            { id: '4', title: 'Launch', date: 'Mar 1, 2024', description: 'Successfully launched to production.' }
        ];

        // Variants timeline
        document.getElementById('variants-timeline').items = [
            { id: '1', title: 'Build Started', date: '10:00 AM', variant: 'info', description: 'Build process initiated' },
            { id: '2', title: 'Tests Passed', date: '10:05 AM', variant: 'success', description: 'All 128 tests passed' },
            { id: '3', title: 'Warning: Deprecation', date: '10:06 AM', variant: 'warning', description: '3 deprecated APIs detected' },
            { id: '4', title: 'Deployment Failed', date: '10:10 AM', variant: 'error', description: 'Connection timeout' },
            { id: '5', title: 'Pending Review', date: '10:15 AM', variant: 'pending', description: 'Awaiting approval' }
        ];

        // Expandable timeline
        document.getElementById('expandable-timeline').items = [
            { id: 'commit', title: 'Code Committed', date: '9:30 AM', description: 'feat: add user authentication', expandable: false },
            { id: 'review', title: 'Code Review', date: '10:00 AM', description: 'PR #123 approved', expandable: true, variant: 'success' },
            { id: 'deploy', title: 'Deployed to Production', date: '10:30 AM', description: 'v2.1.0 released', expandable: true, variant: 'success' }
        ];

        // Dense comparison
        const comparisonItems = [
            { id: '1', title: 'Event One', date: '1:00 PM' },
            { id: '2', title: 'Event Two', date: '2:00 PM' },
            { id: '3', title: 'Event Three', date: '3:00 PM' }
        ];
        document.getElementById('normal-timeline').items = comparisonItems;
        document.getElementById('dense-timeline').items = comparisonItems;

        // Line position
        document.getElementById('line-left-timeline').items = comparisonItems;
        document.getElementById('line-right-timeline').items = comparisonItems;

        // Dot sizes
        const dotSizeItems = [
            { id: '1', title: 'First', date: '1:00 PM' },
            { id: '2', title: 'Second', date: '2:00 PM' },
            { id: '3', title: 'Third', date: '3:00 PM' }
        ];
        document.getElementById('dot-sm-timeline').items = dotSizeItems;
        document.getElementById('dot-md-timeline').items = dotSizeItems;
        document.getElementById('dot-lg-timeline').items = dotSizeItems;
        document.getElementById('dot-xl-timeline').items = dotSizeItems;

        // Dot shapes
        document.getElementById('shape-circle-timeline').items = dotSizeItems;
        document.getElementById('shape-square-timeline').items = dotSizeItems;
        document.getElementById('shape-diamond-timeline').items = dotSizeItems;

        // Dot colors
        const colorVariantItems = [
            { id: '1', title: 'Info', variant: 'info' },
            { id: '2', title: 'Success', variant: 'success' },
            { id: '3', title: 'Warning', variant: 'warning' },
            { id: '4', title: 'Error', variant: 'error' }
        ];
        document.getElementById('color-variant-timeline').items = colorVariantItems;
        document.getElementById('color-uniform-timeline').items = [
            { id: '1', title: 'Step 1' },
            { id: '2', title: 'Step 2' },
            { id: '3', title: 'Step 3' },
            { id: '4', title: 'Step 4' }
        ];
        document.getElementById('color-gradient-timeline').items = [
            { id: '1', title: 'Start' },
            { id: '2', title: 'Progress' },
            { id: '3', title: 'Almost' },
            { id: '4', title: 'Done' }
        ];

        // Horizontal timeline
        const horizontalItems = [
            { id: '1', title: 'Q1', date: 'Jan-Mar', variant: 'success', description: 'Planning' },
            { id: '2', title: 'Q2', date: 'Apr-Jun', variant: 'success', description: 'Development' },
            { id: '3', title: 'Q3', date: 'Jul-Sep', variant: 'info', description: 'Testing' },
            { id: '4', title: 'Q4', date: 'Oct-Dec', variant: 'pending', description: 'Launch' }
        ];
        document.getElementById('horizontal-timeline').items = horizontalItems;
        document.getElementById('horizontal-top-timeline').items = horizontalItems;
        document.getElementById('horizontal-bottom-timeline').items = horizontalItems;
        document.getElementById('horizontal-left-timeline').items = horizontalItems;
        document.getElementById('horizontal-center-timeline').items = horizontalItems;
        document.getElementById('horizontal-right-timeline').items = horizontalItems;
        document.getElementById('horizontal-dense-timeline').items = horizontalItems;

        // Loading timeline
        document.getElementById('loading-timeline').items = [
            { id: '1', title: 'Loading...', date: '' },
            { id: '2', title: 'Loading...', date: '' }
        ];

        // Loading more timeline
        document.getElementById('loading-more-timeline').items = [
            { id: '1', title: 'First Event', date: 'Yesterday', description: 'Loaded event' },
            { id: '2', title: 'Second Event', date: 'Today', description: 'Another event' }
        ];

        // Interactive timeline
        const interactiveTimeline = document.getElementById('interactive-timeline');
        let itemCount = 3;
        interactiveTimeline.items = [
            { id: '1', title: 'Initial Event', date: 'Now', description: 'The beginning', clickable: true, expandable: true },
            { id: '2', title: 'Second Event', date: 'Now +1', variant: 'success', clickable: true },
            { id: '3', title: 'Third Event', date: 'Now +2', variant: 'info', clickable: true }
        ];

        // Event listeners
        interactiveTimeline.addEventListener('item-click', (e) => logEvent('interactive', 'item-click', e.detail));
        interactiveTimeline.addEventListener('item-expand', (e) => logEvent('interactive', 'item-expand', e.detail));

        // Control functions
        window.toggleDense = () => {
            interactiveTimeline.dense = !interactiveTimeline.dense;
            logEvent('interactive', 'dense', { dense: interactiveTimeline.dense });
        };

        window.toggleLoading = () => {
            interactiveTimeline.loading = !interactiveTimeline.loading;
            logEvent('interactive', 'loading', { loading: interactiveTimeline.loading });
        };

        window.toggleOrientation = () => {
            interactiveTimeline.orientation = interactiveTimeline.orientation === 'vertical' ? 'horizontal' : 'vertical';
            logEvent('interactive', 'orientation', { orientation: interactiveTimeline.orientation });
        };

        window.addItem = () => {
            itemCount++;
            const variants = ['default', 'success', 'warning', 'error', 'info'];
            const variant = variants[Math.floor(Math.random() * variants.length)];
            interactiveTimeline.items = [
                ...interactiveTimeline.items,
                {
                    id: String(itemCount),
                    title: `Event ${itemCount}`,
                    date: `Now +${itemCount - 1}`,
                    description: `Dynamically added event`,
                    variant,
                    clickable: true
                }
            ];
            logEvent('interactive', 'addItem', { id: itemCount, variant });
        };

        logEvent('System', 'Demo initialized');
    </script>
    <script type="module" src="../js/utils/demo-color-picker.js"></script>
</body>
</html>
