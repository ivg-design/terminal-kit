<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAccordionLit - Component Demo</title>
    <link rel="stylesheet" href="../css/demo-template.css">
    <style>
        .horizontal-demo {
            height: 380px;
        }
        .horizontal-demo t-accordion {
            height: 320px;
        }
    </style>
</head>
<body>
    <!-- Fixed Header -->
    <header class="demo-header">
        <div class="demo-header-content">
            <div class="demo-header-left">
                <h1>TAccordionLit</h1>
                <div class="breadcrumb">
                    <a href="index.html">← Components</a> / Accordion
                </div>
            </div>
            <div class="demo-header-controls">
                <button class="header-btn" id="toggleLogBtn">▼ Event Log</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="demo-container">
        <div class="component-section">
            <h2 class="component-title">Accordion Component</h2>
            <p class="component-description">
                Collapsible sections with terminal styling and multiple open support.
            </p>

            <h3>Basic Accordion (Single Open)</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Click headers to expand/collapse</span>
                    <div class="controls" style="margin-bottom: 15px;">
                        <button class="btn" id="expand-all">Expand All</button>
                        <button class="btn" id="collapse-all">Collapse All</button>
                    </div>
                    <t-accordion id="demo-accordion">
                        <t-accordion-item item-id="section1" title="System Status">
                            <p>All systems operational. Last check: 2 minutes ago.</p>
                            <div class="code-block">
                                <code>CPU: 23% | Memory: 4.2GB / 16GB | Disk: 120GB / 500GB</code>
                            </div>
                        </t-accordion-item>
                        <t-accordion-item item-id="section2" title="Network Configuration">
                            <p>Network settings and connection information.</p>
                            <div class="code-block">
                                <code>IP: 192.168.1.100 | Gateway: 192.168.1.1 | DNS: 8.8.8.8</code>
                            </div>
                        </t-accordion-item>
                        <t-accordion-item item-id="section3" title="Security Settings">
                            <p>Firewall and security configuration.</p>
                            <div class="code-block">
                                <code>Firewall: Active | Last scan: 1 hour ago | Threats: 0</code>
                            </div>
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Multiple Open Panels</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">With multiple attribute</span>
                    <t-accordion multiple>
                        <t-accordion-item item-id="m1" title="Server Logs" expanded>
                            <div class="code-block">
                                <code>[INFO] Server started on port 3000</code><br>
                                <code>[INFO] Database connection established</code><br>
                                <code>[WARN] Cache miss rate: 15%</code>
                            </div>
                        </t-accordion-item>
                        <t-accordion-item item-id="m2" title="Application Logs" expanded>
                            <div class="code-block">
                                <code>[DEBUG] User session created</code><br>
                                <code>[INFO] API request: GET /users</code><br>
                                <code>[INFO] Response time: 45ms</code>
                            </div>
                        </t-accordion-item>
                        <t-accordion-item item-id="m3" title="Error Logs">
                            <div class="code-block">
                                <code>[ERROR] Connection timeout after 30s</code><br>
                                <code>[ERROR] Failed to parse JSON response</code>
                            </div>
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Variants</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Default</span>
                    <t-accordion>
                        <t-accordion-item item-id="v1" title="Default Style">
                            Content with default styling.
                        </t-accordion-item>
                        <t-accordion-item item-id="v2" title="Another Section">
                            More content here.
                        </t-accordion-item>
                    </t-accordion>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Bordered</span>
                    <t-accordion bordered>
                        <t-accordion-item item-id="b1" title="Bordered Container" variant="bordered">
                            Content inside bordered accordion.
                        </t-accordion-item>
                        <t-accordion-item item-id="b2" title="With Green Border" variant="bordered">
                            Terminal green accent border.
                        </t-accordion-item>
                    </t-accordion>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Flush (No side borders)</span>
                    <t-accordion>
                        <t-accordion-item item-id="f1" title="Flush Style" variant="flush">
                            Minimal style without side borders.
                        </t-accordion-item>
                        <t-accordion-item item-id="f2" title="Clean Look" variant="flush">
                            Perfect for sidebars.
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Sizes</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Small</span>
                    <t-accordion>
                        <t-accordion-item item-id="s1" title="Small Size" size="sm" expanded>
                            Compact accordion for tight spaces.
                        </t-accordion-item>
                    </t-accordion>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Medium (Default)</span>
                    <t-accordion>
                        <t-accordion-item item-id="s2" title="Medium Size" size="md" expanded>
                            Default size accordion panel.
                        </t-accordion-item>
                    </t-accordion>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Large</span>
                    <t-accordion>
                        <t-accordion-item item-id="s3" title="Large Size" size="lg" expanded>
                            Larger accordion for prominent sections.
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Horizontal Orientation</h3>
            <div class="demo-grid wide">
                <div class="demo-item horizontal-demo">
                    <span class="demo-label">Side-by-side accordion</span>
                    <t-accordion orientation="horizontal">
                        <t-accordion-item item-id="h1" title="Status" expanded>
                            <p>Horizontal panels expand into the content area.</p>
                        </t-accordion-item>
                        <t-accordion-item item-id="h2" title="Logs">
                            <p>Use for compact dashboards or sidebars.</p>
                        </t-accordion-item>
                        <t-accordion-item item-id="h3" title="Settings">
                            <p>Keep multiple panels visible in a row.</p>
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>With Badges and Subtitles</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Badges indicate counts</span>
                    <t-accordion multiple>
                        <t-accordion-item item-id="i1" title="Inbox" subtitle="Unread messages" badge="5" expanded>
                            <p>You have 5 unread messages in your inbox.</p>
                        </t-accordion-item>
                        <t-accordion-item item-id="i2" title="Notifications" badge="12">
                            <p>12 new notifications since your last visit.</p>
                        </t-accordion-item>
                        <t-accordion-item item-id="i3" title="Tasks" subtitle="Due today" badge="3">
                            <p>3 tasks are due today.</p>
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Animated Transitions</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Smooth expand/collapse</span>
                    <t-accordion>
                        <t-accordion-item item-id="a1" title="Smooth Animation" animated>
                            <p>This panel animates smoothly when expanding and collapsing.</p>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                        </t-accordion-item>
                        <t-accordion-item item-id="a2" title="Another Animated Panel" animated>
                            <p>Watch the smooth height transition.</p>
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Icon Position</h3>
            <div class="demo-grid">
                <div class="demo-item">
                    <span class="demo-label">Left (Default)</span>
                    <t-accordion>
                        <t-accordion-item item-id="p1" title="Icon on Left" icon-position="left" expanded>
                            Default icon position on the left side.
                        </t-accordion-item>
                    </t-accordion>
                </div>

                <div class="demo-item">
                    <span class="demo-label">Right</span>
                    <t-accordion>
                        <t-accordion-item item-id="p2" title="Icon on Right" icon-position="right" expanded>
                            Icon positioned on the right side.
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <h3>Disabled State</h3>
            <div class="demo-grid wide">
                <div class="demo-item">
                    <span class="demo-label">Individual items can be disabled</span>
                    <t-accordion>
                        <t-accordion-item item-id="d1" title="Normal Panel" expanded>
                            This panel is interactive.
                        </t-accordion-item>
                        <t-accordion-item item-id="d2" title="Disabled Panel" disabled>
                            This panel is disabled and cannot be toggled.
                        </t-accordion-item>
                        <t-accordion-item item-id="d3" title="Another Normal Panel">
                            This panel is interactive.
                        </t-accordion-item>
                    </t-accordion>
                </div>
            </div>

            <div class="code-block">
                <code>&lt;!-- Basic accordion --&gt;
&lt;t-accordion&gt;
  &lt;t-accordion-item title="Section 1"&gt;Content&lt;/t-accordion-item&gt;
  &lt;t-accordion-item title="Section 2"&gt;Content&lt;/t-accordion-item&gt;
&lt;/t-accordion&gt;

&lt;!-- Multiple open --&gt;
&lt;t-accordion multiple&gt;...&lt;/t-accordion&gt;

&lt;!-- With badges --&gt;
&lt;t-accordion-item title="Inbox" badge="5" subtitle="Unread"&gt;&lt;/t-accordion-item&gt;

&lt;!-- Animated --&gt;
&lt;t-accordion-item title="Animated" animated&gt;&lt;/t-accordion-item&gt;

&lt;!-- JavaScript API --&gt;
&lt;script&gt;
  const accordion = document.querySelector('t-accordion');
  accordion.expandAll();
  accordion.collapseAll();
  accordion.addEventListener('accordion-change', (e) =&gt; {});
&lt;/script&gt;</code>
            </div>
        </div>
    </div>

    <!-- Floating Event Log -->
    <div class="event-log-container collapsed" id="eventLogContainer">
        <div class="event-log-toggle">
            <h3><span class="toggle-icon">▲</span> Event Log</h3>
            <div class="event-log-controls">
                <span class="event-log-count">0</span>
                <button class="event-log-clear">Clear</button>
            </div>
        </div>
        <div class="event-log" id="eventLog"></div>
    </div>

    <script type="module">
        import '../js/components/TAccordionLit.js';

        // Event log functionality
        let eventCount = 0;
        const eventLog = document.getElementById('eventLog');
        const eventLogContainer = document.getElementById('eventLogContainer');
        const countEl = document.querySelector('.event-log-count');
        const toggleLogBtn = document.getElementById('toggleLogBtn');

        function logEvent(component, event, detail) {
            const entry = document.createElement('div');
            entry.className = 'event-entry';
            const timestamp = new Date().toLocaleTimeString();
            entry.textContent = `[${timestamp}] ${component}: ${event}${detail ? ' - ' + JSON.stringify(detail) : ''}`;
            eventLog.appendChild(entry);
            eventLog.scrollTop = eventLog.scrollHeight;
            eventCount++;
            countEl.textContent = eventCount;
        }

        // Toggle event log
        document.querySelector('.event-log-toggle').addEventListener('click', (e) => {
            if (e.target.closest('.event-log-clear')) return;
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        toggleLogBtn.addEventListener('click', () => {
            eventLogContainer.classList.toggle('collapsed');
            toggleLogBtn.classList.toggle('active');
        });

        // Clear log
        document.querySelector('.event-log-clear').addEventListener('click', (e) => {
            e.stopPropagation();
            eventLog.innerHTML = '';
            eventCount = 0;
            countEl.textContent = '0';
        });

        const accordion = document.getElementById('demo-accordion');

        accordion.addEventListener('accordion-change', e => logEvent('accordion', 'accordion-change', e.detail));
        accordion.addEventListener('item-toggle', e => logEvent('accordion', 'item-toggle', e.detail));

        document.getElementById('expand-all').addEventListener('click', () => {
            accordion.multiple = true;
            accordion.expandAll();
            logEvent('accordion', 'expandAll');
        });

        document.getElementById('collapse-all').addEventListener('click', () => {
            accordion.collapseAll();
            accordion.multiple = false;
            logEvent('accordion', 'collapseAll');
        });

        logEvent('System', 'Demo initialized');
    </script>
    <script type="module" src="../js/utils/demo-color-picker.js"></script>
</body>
</html>
