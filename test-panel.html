<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Test</title>
    <link rel="stylesheet" href="css/theme/terminal.css">
    <link rel="stylesheet" href="css/components/panel.css">
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/status-bar.css">
    
    <style>
        body {
            padding: 20px;
            background: #0a0a0a;
            color: #00ff41;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #333;
            background: #1a1a1a;
        }
        h2 {
            color: #00ff41;
            margin-bottom: 15px;
        }
        terminal-panel {
            width: 400px;
            height: 200px;
            display: block;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Terminal Panel Test</h1>
    
    <div class="test-section">
        <h2>1. With Header (Collapsible)</h2>
        <terminal-panel mode="with-header" title="Test Panel" collapsible>
            <div slot="content">
                <p style="color: #00ff41; margin-bottom: 10px;">This is test content.</p>
                <p style="color: #00cc33;">The panel should be visible with a header.</p>
                <terminal-button id="testBtn1">Test Button</terminal-button>
            </div>
            <div slot="header-actions">
                <terminal-button type="icon">âš™</terminal-button>
            </div>
        </terminal-panel>
    </div>

    <div class="test-section">
        <h2>2. Headless Mode</h2>
        <terminal-panel mode="headless">
            <div slot="content">
                <h4 style="color: #00ff41; margin-bottom: 10px;">Headless Panel</h4>
                <p style="color: #00cc33;">No header, just content.</p>
            </div>
        </terminal-panel>
    </div>

    <div class="test-section">
        <h2>3. With Taskbar</h2>
        <terminal-panel mode="with-taskbar">
            <div slot="content">
                <p style="color: #00ff41; margin-bottom: 10px;">Panel with taskbar</p>
                <p style="color: #00cc33;">Check the bottom for taskbar.</p>
            </div>
            <div slot="taskbar">
                <terminal-status-bar>
                    <terminal-status-field label="Status" value="Active"></terminal-status-field>
                    <terminal-status-field label="Size" value="1.2MB"></terminal-status-field>
                </terminal-status-bar>
            </div>
        </terminal-panel>
    </div>

    <div class="test-section">
        <h2>4. Nested Panels</h2>
        <terminal-panel mode="with-header" title="Parent Panel" collapsible>
            <div slot="content">
                <p style="color: #00ff41; margin-bottom: 15px;">This contains nested panels:</p>
                
                <terminal-panel mode="with-header" title="Child Panel 1" style="margin-bottom: 10px;">
                    <div slot="content">
                        <p style="color: #00cc33;">Nested content 1</p>
                    </div>
                </terminal-panel>
                
                <terminal-panel mode="headless">
                    <div slot="content">
                        <p style="color: #00cc33;">Nested headless panel</p>
                    </div>
                </terminal-panel>
            </div>
        </terminal-panel>
    </div>

    <script type="module">
        import './js/components/TerminalComponent.js';
        import './js/components/TerminalPanel.js';
        import './js/components/TerminalButton.js';
        import './js/components/TerminalStatusBar.js';
        import './js/components/TerminalStatusField.js';

        // Test interactions
        document.getElementById('testBtn1')?.addEventListener('click', () => {
            alert('Button clicked - panels are working!');
        });

        // Test collapsible functionality
        setTimeout(() => {
            const panel = document.querySelector('terminal-panel[collapsible]');
            console.log('Testing panel collapse...');
            if (panel) {
                panel.addEventListener('panel-collapsed', () => console.log('Panel collapsed'));
                panel.addEventListener('panel-expanded', () => console.log('Panel expanded'));
            }
        }, 1000);
    </script>
</body>
</html>